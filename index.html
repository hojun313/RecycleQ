<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Game</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Prevent scroll bars */
            width: 100%;
            height: 100%;
            font-family: 'Arial', sans-serif;
            background-color: #f0f0f0;
        }
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .image-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 60vh; /* ë·°í¬íŠ¸ ë†’ì´ì˜ 60%ë¡œ ì„¤ì • */
        }
        .image-container img {
            max-width: 100%;
            max-height: 100%;
            width: auto;
            height: auto;
            object-fit: contain;
            border: 5px solid #ccc;
            border-radius: 10px;
        }
        .buttons-container {
            display: flex;
            justify-content: space-around;
            width: 100%;
            padding: 20px;
            background: linear-gradient(to right, #f6f9fc, #e9f2f9);
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
        .buttons-container button {
            width: 13%;
            height: 120px;
            padding: 10px;
            border: 3px solid #4a90e2;
            border-radius: 15px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        .buttons-container button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 20px rgba(74, 144, 226, 0.3);
            border-color: #2a70c2;
        }
        .buttons-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
        }
        .buttons-container button:hover img {
            transform: scale(1.1);
        }
        #score {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 36px;
            font-weight: bold;
            color: #4a90e2;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }
        #score:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        @media screen and (max-width: 768px) {
            .buttons-container {
                flex-wrap: wrap;
            }
            .buttons-container button {
                width: 25%;
                height: 80px;
                margin-bottom: 10px;
            }
        }

        .start-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 20px 40px;
            border-radius: 15px;
            font-size: 24px;
            z-index: 1000;
            text-align: center;
            cursor: pointer;
        }

        .close-hint {
            font-size: 14px;
            color: #cccccc;
            margin-top: 10px;
            cursor: pointer; /* í´ë¦­ ê°€ëŠ¥í•¨ì„ í‘œì‹œ */
        }

        .feedback-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 20px;
            z-index: 1001;
            text-align: center;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        }
        .feedback-icon {
            font-size: 50px; /* ì•„ì´ì½˜ í¬ê¸° ì„¤ì • */
            margin-bottom: 10px; /* ì•„ì´ì½˜ê³¼ í…ìŠ¤íŠ¸ ê°„ê²© */
        }

        #celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* í´ë¦­ ì´ë²¤íŠ¸ ë¬´ì‹œ */
            z-index: 2000; /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— í‘œì‹œ */
        }
    </style>
</head>
<body>
    <div id="score">ì ìˆ˜: 0 | ë¬¸ì œ: 1/0 | ëª©ìˆ¨: 5</div>
    <div id="startMessage" class="start-message">
        ë³´ì´ëŠ” ì“°ë ˆê¸°ë¥¼ ë²„ë¦´ ë¶„ë¦¬ë°°ì¶œí•¨ì„ ì„ íƒí•´ ì£¼ì„¸ìš”
        <div class="close-hint">í´ë¦­í•˜ì—¬ ë‹«ê¸°</div>
    </div>
    <div id="feedbackMessage" class="feedback-message" style="display: none;">
        <div id="feedbackIcon" class="feedback-icon"></div>
        <div id="feedbackText"></div>
        <div class="close-hint">í´ë¦­í•˜ì—¬ ë‹«ê¸°</div>
    </div>
    <div class="image-container">
        <img id="quizImage" src="" alt="Quiz Image">
    </div>
    <div class="buttons-container">
        <button onclick="checkAnswer('trash')"><img src="assets/ì¼ë°˜ì“°ë ˆê¸°.png" alt="ì¼ë°˜ì“°ë ˆê¸°"></button>
        <button onclick="checkAnswer('paper')"><img src="assets/ê¸°íƒ€ì¢…ì´.png" alt="ì¢…ì´"></button>
        <button onclick="checkAnswer('vinyl')"><img src="assets/ë¹„ë‹ë¥˜.png" alt="ë¹„ë‹ë¥˜"></button>
        <button onclick="checkAnswer('glass')"><img src="assets/ìœ ë¦¬.png" alt="ìœ ë¦¬"></button>
        <button onclick="checkAnswer('can')"><img src="assets/ìº”ë¥˜.png" alt="ìº”ë¥˜"></button>
        <button onclick="checkAnswer('pet')"><img src="assets/íˆ¬ëª…í˜íŠ¸.png" alt="íˆ¬ëª…í˜íŠ¸"></button>
        <button onclick="checkAnswer('plastic')"><img src="assets/í”Œë¼ìŠ¤í‹±.png" alt="í”Œë¼ìŠ¤í‹±"></button>
    </div>
    <script>
        var imgs = [
            // ë¹„ë‹ë¥˜
            {src: 'assets/images/ë¹„ë‹ë¥˜/ê³¼ìë´‰ì§€.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ê¹€ë¹„ë‹ë´‰ì§€.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ë¼ë©´ë´‰ì§€.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ë¬¼í‹°ìŠˆë´‰ì§€.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ë¹„ë‹ì¥ê°‘.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ë½ë½ì´.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ì–‘íŒŒë§.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ìœ ìƒ‰ë¹„ë‹ë´‰ì§€.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/ì‘ì€ë¹„ë‹.jpg', type: 'vinyl'},
            {src: 'assets/images/ë¹„ë‹ë¥˜/íƒë°°ë¹„ë‹.jpg', type: 'vinyl'},
            // ìœ ë¦¬
            {src: 'assets/images/ìœ ë¦¬/ë‘ìœ ë³‘.jpg', type: 'glass'},
            {src: 'assets/images/ìœ ë¦¬/ë°•ì¹´ìŠ¤ë³‘.jpg', type: 'glass'},
            {src: 'assets/images/ìœ ë¦¬/ì™€ì¸ë¹ˆë³‘.jpg', type: 'glass'},
            {src: 'assets/images/ìœ ë¦¬/ìœ ë¦¬ë³‘.jpg', type: 'glass'},
            {src: 'assets/images/ìœ ë¦¬/ìœ ë¦¬ë³‘1.jpg', type: 'glass'},
            // ì¼ë°˜ì“°ë ˆê¸°
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ê³„ë€ê»ë°ê¸°.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ê³ ë¬´ì¥ê°‘ê³ ë¬´ì¥í™”.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ê³¼ì¼í¬ì¥ì¬.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ë°¥ê·¸ë¦‡.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ë³¼íœì¹«ì†”.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ì‹ìš©ìœ ìš©ê¸°.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ì€ë°•ë´‰ì§€.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ìŒì‹ë¬»ì€ë¹„ë‹.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ì „êµ¬.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ì¡°ê°œ.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/ì»¤í”¼ì°Œêº¼ê¸°.jpg', type: 'trash'},
            {src: 'assets/images/ì¼ë°˜ì“°ë ˆê¸°/í˜¸ìˆ˜.jpg', type: 'trash'},
            // ì¢…ì´ë¥˜
            {src: 'assets/images/ì¢…ì´ë¥˜/ê³„ë€íŒ.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ê³„ë€íŒë°ë°•ìŠ¤.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ê³¨íŒì§€ìƒì.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ì‹ ë¬¸ì§€.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ì¢…ì´ë­‰ì¹˜.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ì¢…ì´ë°•ìŠ¤.jpg', type: 'paper'},
            {src: 'assets/images/ì¢…ì´ë¥˜/ì±….jpg', type: 'paper'},
            // ìº”ë¥˜
            {src: 'assets/images/ìº”ë¥˜/ë¶€íƒ„ìº”.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ë¹ˆìº”.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ë¹ˆìº”2.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ì•Œë£¨ë¯¸ëŠ„ë³‘ëšœê»‘.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ìŒë£Œìˆ˜ìº”.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ìŒë£Œìº”.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/ì»¤í”¼ìº”.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/í†µì¡°ë¦¼.jpg', type: 'can'},
            {src: 'assets/images/ìº”ë¥˜/í†µì¡°ë¦¼ìº”.jpg', type: 'can'},
            // íˆ¬ëª…í˜íŠ¸
            {src: 'assets/images/íˆ¬ëª…í˜íŠ¸/ìƒìˆ˜ë³‘.jpg', type: 'pet'},
            {src: 'assets/images/íˆ¬ëª…í˜íŠ¸/íˆ¬ëª….jpg', type: 'pet'},
            {src: 'assets/images/íˆ¬ëª…í˜íŠ¸/íˆ¬ëª…ë³‘.jpg', type: 'pet'},
            {src: 'assets/images/íˆ¬ëª…í˜íŠ¸/íˆ¬ëª…í˜íŠ¸.jpg', type: 'pet'},
            {src: 'assets/images/íˆ¬ëª…í˜íŠ¸/íˆ¬ëª…í˜íŠ¸1.jpg', type: 'pet'},
            // í”Œë¼ìŠ¤í‹±
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ë°”ë‚˜ë‚˜ìš°ìœ ë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ìš”í”Œë ˆë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ìœ ìƒ‰ë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ìœ ìƒ‰í”Œë¼ìŠ¤í‹±ë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ì¼íšŒìš©ë°°ë‹¬ìš©ê¸°.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ì¼íšŒìš©íŒ.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/ì¼íšŒìš©í”Œë¼ìŠ¤í‹±ì»µ.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/í”Œë¼ìŠ¤í‹±.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/í”Œë¼ìŠ¤í‹±ë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/í”Œë¼ìŠ¤í‹±ì„¸ì œë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/í”Œë¼ìŠ¤í‹±ì•½ë³‘.jpg', type: 'plastic'},
            {src: 'assets/images/í”Œë¼ìŠ¤í‹±/í”Œë¼ìŠ¤í‹±ìš©ê¸°.jpg', type: 'plastic'},
        ];

        // ë°°ì—´ì„ ëœë¤í•˜ê²Œ ì„ëŠ” í•¨ìˆ˜ ì¶”ê°€
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                // í˜„ì¬ ì‹œê°„ ê°’ì„ ì‹œë“œë¡œ ì‚¬ìš©í•˜ì—¬ ëœë¤ ì¸ë±ìŠ¤ ìƒì„±
                const j = Math.floor((Date.now() + i) % (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        var currentImage;
        var score = 0;
        var currentQuestionNumber = 1;
        var totalQuestions = imgs.length;
        var lives = 5; // ì´ˆê¸° ëª©ìˆ¨ ìˆ˜

        function displayNextImage() {
            if (currentQuestionNumber <= totalQuestions) {
                currentImage = imgs[currentQuestionNumber - 1];
                document.getElementById('quizImage').src = currentImage.src;
            }
        }

        function updateScore() {
            document.getElementById('score').textContent = 'ì ìˆ˜: ' + score + ' | ë¬¸ì œ: ' + currentQuestionNumber + '/' + totalQuestions + ' | ëª©ìˆ¨: ' + lives;
        }

        function checkAnswer(type) {
            if (type === currentImage.type) {
                score++;
                showFeedback('ì •ë‹µì…ë‹ˆë‹¤!', 'green'); // ì •ë‹µ ë©”ì‹œì§€ í‘œì‹œ
            } else {
                lives--; // í‹€ë¦° ë¬¸ì œì— ëŒ€í•´ ëª©ìˆ¨ ê°ì†Œ
                showFeedback('ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ë³´ì„¸ìš”.', 'red'); // ì˜¤ë‹µ ë©”ì‹œì§€ í‘œì‹œ
            }
            currentQuestionNumber++;
            updateScore();
            
            if (lives <= 0) { // ëª©ìˆ¨ì´ 0ì´ ë  ê²½ìš°
                showFeedback('ë‹¤ìŒ ê¸°íšŒì—', 'orange'); // ë©”ì‹œì§€ í‘œì‹œ
                shuffleArray(imgs); // ì´ë¯¸ì§€ ë°°ì—´ì„ ëœë¤í•˜ê²Œ ì„ìŒ
                document.getElementById('feedbackMessage').addEventListener('click', resetGame); // í´ë¦­ ì‹œ ê²Œì„ ì´ˆê¸°í™”
            } else if (currentQuestionNumber <= totalQuestions) {
                displayNextImage();
            } else {
                // ëª¨ë“  ë¬¸ì œê°€ ì¶œì œëœ ê²½ìš° ì¶•í•˜ ë©”ì‹œì§€ í‘œì‹œ
                showFeedback('ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ í‘¸ì…¨ìŠµë‹ˆë‹¤!', 'yellow'); // ì¶•í•˜ ë©”ì‹œì§€ ìƒ‰ìƒ ë³€ê²½
                shuffleArray(imgs); // ì´ë¯¸ì§€ ë°°ì—´ì„ ëœë¤í•˜ê²Œ ì„ìŒ
                document.getElementById('feedbackMessage').addEventListener('click', resetGame); // í´ë¦­ ì‹œ ê²Œì„ ì´ˆê¸°í™”
            }
        }

        function resetGame() {
            score = 0;
            lives = 5; // ëª©ìˆ¨ ì´ˆê¸°í™”
            currentQuestionNumber = 1;
            updateScore();
            displayNextImage();
            document.getElementById('feedbackMessage').style.display = 'none'; // ë©”ì‹œì§€ ìˆ¨ê¹€
        }

        function showFeedback(message, color) {
            var feedbackElement = document.getElementById('feedbackMessage');
            var feedbackText = document.getElementById('feedbackText');
            var feedbackIcon = document.getElementById('feedbackIcon');

            // ì•„ì´ì½˜ ì„¤ì •
            feedbackIcon.textContent = (color === 'red') ? 'âŒ' : 
                                         (color === 'green') ? 'âœ…' : 
                                         (color === 'yellow') ? 'ğŸ‘‘' : ''; // ìƒ‰ìƒì— ë”°ë¼ ì•„ì´ì½˜ ë³€ê²½

            feedbackText.textContent = message;
            feedbackElement.style.color = color;
            feedbackElement.style.display = 'block'; // ë©”ì‹œì§€ í‘œì‹œ
            
            // í´ë¦­ ì‹œ ë©”ì‹œì§€ ìˆ¨ê¹€
            feedbackElement.addEventListener('click', function() {
                feedbackElement.style.display = 'none'; // í´ë¦­ ì‹œ ìˆ¨ê¹€
            });
        }

        // í™”ë©´ íšŒì „ í•¨ìˆ˜
        function lockLandscape() {
            if (screen.orientation && screen.orientation.lock) {
                screen.orientation.lock('landscape')
                    .then(() => {
                        console.log('í™”ë©´ì´ ê°€ë¡œ ëª¨ë“œë¡œ ê³ ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    })
                    .catch((error) => {
                        console.error('í™”ë©´ íšŒì „ ê³ ì • ì‹¤íŒ¨:', error);
                    });
            } else {
                console.warn('ì´ ë¸Œë¼ìš°ì €ëŠ” í™”ë©´ íšŒì „ APIë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        window.onload = function() {
            shuffleArray(imgs); // ì´ë¯¸ì§€ ë°°ì—´ì„ ëœë¤í•˜ê²Œ ì„ìŒ
            console.log(imgs); // ì„ì¸ ë°°ì—´ì„ ì½˜ì†”ì— ì¶œë ¥í•˜ì—¬ í™•ì¸
            displayNextImage();
            updateScore();
            
            // ì‹œì‘ ë©”ì‹œì§€ í´ë¦­ ì´ë²¤íŠ¸ ì¶”ê°€
            document.getElementById('startMessage').addEventListener('click', function() {
                this.style.display = 'none';
            });
            
            // ëª¨ë°”ì¼ ê¸°ê¸° í™•ì¸
            if (/Mobi|Android/i.test(navigator.userAgent)) {
                lockLandscape();
            }
        };
    </script>
</body>
</html>
